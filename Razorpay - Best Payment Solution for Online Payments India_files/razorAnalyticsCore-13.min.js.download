/*! For license information please see razorAnalyticsCore-13.min.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{RR:()=>p,N3:()=>E,Je:()=>C,gL:()=>v,h7:()=>y,oz:()=>h,WC:()=>b,LH:()=>w,RQ:()=>S,bG:()=>T,storage:()=>g,$L:()=>f});const n={LIVE:"live",DEBUG:"debug"},r={CLIENT_ID:"ra_clientId",SESSION_ID:"ra_sessionId",SESSION_REFERRER:"ra_sessionReferrer",LAST_ACTIVITY_TIMESTAMP:"ra_lastActivityTimeStamp",UTM:"ra_utm",IDENTITY:"ra_identity",TAB_ID:"ra_tabId",TAB_RELOAD_COUNT:"ra_tabReloadCount",DEBUG_MODE:"ra_enableAnalyticsLiveDebugMode",INIT_CONFIG:"ra_initConfig",CLIENT_ID_OLD:"clientId",SESSION_ID_OLD:"sessionId"};function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}const i=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=o({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var c=decodeURIComponent(i[0]);if(r[c]=t.read(a,c),e===c)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),a=()=>{const e=()=>Math.floor(4294967296*Math.random()).toString(16).padStart(8,"0"),t=Date.now().toString(16).padStart(12,"0");return[e(),e().substring(0,4),`4${e().substring(1,4)}`,`8${e().substring(1,4)}`,t.substring(0,12)].join("-")},c=e=>{if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype};function s(e,t=()=>{}){return(...n)=>{try{e(...n)}catch(e){console.error(e),t(e)}}}function u(e){setTimeout(e,0)}const l=(e,...t)=>t.reduce(((e,t)=>(Object.keys(t).forEach((n=>{n in e&&c(t[n])&&c(e[n])?e[n]=l(e[n],t[n]):e[n]=t[n]})),e)),e),d={},m={},g=function(){const e=window.location.hostname.split(".").slice(-2).join(".");return{set:function(t,n){return i.set(t,n,{domain:e,expires:365})},get:function(e,t){return i.get(e)??t},remove:function(e){return i.remove(e)}}}(),p=function(){const e={};return{on:function(t,n){e[t]=t in e?[...e[t],n]:[n]},emit:function(t,n){e[t]?.forEach((e=>e(n)))}}}(),f=e=>{try{sessionStorage.set(r.INIT_CONFIG,JSON.stringify(e))}catch(e){}},b=e=>!!c(e)&&(Object.assign(d,e),!0),h=(e,t)=>{c(t)&&(e.analyticsProperties=t)},v=()=>d,w=e=>!!c(e)&&(Object.assign(m,e),!0),S=(e="",t)=>!!(c(t)&&e.length>0)&&(g.set(r.IDENTITY,JSON.stringify({id:e,...t})),!0),y=()=>g.remove(r.IDENTITY),I=(()=>{const e=(()=>{const e=navigator.userAgent,t=[{name:"Chrome",regex:/Chrome\/([0-9.]+)/},{name:"Firefox",regex:/Firefox\/([0-9.]+)/},{name:"Safari",regex:/Version\/([0-9.]+).*Safari/},{name:"Edge",regex:/Edg\/([0-9.]+)/},{name:"Opera",regex:/OPR\/([0-9.]+)/},{name:"IE",regex:/MSIE ([0-9.]+)/}];for(const n of t){const t=e.match(n.regex);if(t)return{name:n.name.toLowerCase(),version:t[1].split(".")[0]}}return{name:"unknown",version:"unknown"}})(),t=(()=>{const e=navigator.userAgent;return e.includes("Windows")?"windows":e.includes("Mac")?"macos":e.includes("Linux")?"linux":e.includes("Android")?"android":e.includes("iOS")||e.includes("iPhone")||e.includes("iPad")?"ios":"unknown"})(),n=(()=>{const e=navigator.userAgent;return e.includes("Mobile")||e.includes("Android")||e.includes("iPhone")?"mobile":e.includes("iPad")||e.includes("Tablet")?"tablet":"desktop"})(),r=navigator.connection?.effectiveType||"unknown",o=window.screen.width,i=window.screen.height;window.devicePixelRatio;return{browserName:e.name,browserVersion:e.version,osName:t,deviceType:n,connectionType:r,screenSize:`${o}x${i}`,platformName:"browser",userAgent:navigator.userAgent,language:navigator.language,timezone:(new Intl.DateTimeFormat).resolvedOptions().timeZone}})(),E=e=>({userAgent:navigator.userAgent,connectionType:navigator?.connection?.effectiveType??null,screenSize:`${window.screen?.availWidth}x${window.screen?.availHeight}`,...I,identity:JSON.parse(g.get(r.IDENTITY)||"{}"),page:N(e.pageConfig),tab:{tabId:sessionStorage.getItem(r.TAB_ID),reloadedOrDuplicatedCount:+sessionStorage.getItem(r.TAB_RELOAD_COUNT)},experiments:m,medium:"razorAnalytics"});function T(){if(sessionStorage.getItem(r.TAB_ID)){const e=+sessionStorage.getItem(r.TAB_RELOAD_COUNT);sessionStorage.setItem(r.TAB_RELOAD_COUNT,e+1)}else sessionStorage.setItem(r.TAB_ID,a())}function C(){const e=document.referrer;try{const t=new URL(e);return`${t.origin}${t.pathname}`}catch(e){return""}}function N(e){const t=new URL(window.location.href);return e.captureSearchParams||(t.search=""),e.captureHashParams||(t.hash=""),{title:document.title,referrer:C(),url:t.toString()}}const _=(e,t=300)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}};const A=["utm_campaign","utm_content","utm_keyword","utm_medium","utm_source","utm_adgroup","utm_term","utm_matchtype","utm_content_id","utm_adgroup_id","utm_campaign_id"];function O(e={}){g.set(r.UTM,JSON.stringify(e))}function L(e={}){const{captureExtraParams:t=[]}=e,n=new URLSearchParams(window.location.search),o=[...A,...t];if(o.some((e=>!!n.get(e))))return o.reduce(((e,t)=>{const r=n.get(t);return r&&(e[t]=r),e}),{});{const e=g.get(r.UTM);return JSON.parse(e||"{}")}}const R=e=>e?e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase())).replace(/^[A-Z]/,(e=>e.toLowerCase())):"",D={pageView:"pageView",elementView:"elementView",pageScroll:"pageScroll",elementScroll:"elementScroll",linkClick:"linkClick",buttonClick:"buttonClick",inputChange:"inputChange",formSubmit:"formSubmit",formInputChange:"formInputChange",formError:"formError",tabVisibility:"tabVisibility"},P=["article","aside","details","figure","footer","form","header","main","nav","section"],x=["accordion","alert","bottomSheet","card","calendar","carousel","chip-group","drawer","menu","dialog","popover","tabs","table"],k=["id","name","href","type","placeholder"];function M(e){return["enabled","capture-search-params","capture-hash-params","capture-input-value","capture-text-content"].reduce(((t,n)=>{const r=`data-analytics-${n}`;if(e.hasAttribute(r)){const o=e.getAttribute(r);t[R(n)]="true"===o}return t}),{})}function V(e){const t=function(e){const t=function(e){return Array.from(e.attributes).reduce(((e,t)=>((e=>{const t=!e.startsWith("on"),n=e.startsWith("aria-")||e.startsWith("data-"),r=k.includes(e);return t&&(n||r)})(t.name)&&(e[t.name]=t.value),e)),{})}(e);return Object.keys(t).reduce(((e,n)=>(e[R(n)]=t[n],e)),{})}(e),n=function(e){const t=["name","dataName","dataAnalyticsName","ariaLabel","id"].find((t=>t in e));return e[t]??""}(t);return{targetElement:e.tagName.toLowerCase(),...t,derivedName:n}}function U(e=[],t=[],n){const r=e.reverse().reduce(((e,t)=>{let n=t.tagName.toLowerCase();const r=V(t).derivedName;return n in e&&(n=R(`sub-${n}`)),Object.assign(e,{[n]:r})}),{}),o=(e,t)=>`${e.getAttribute(n)??""} ${t.derivedName}`.trim();let i={};return t.length>0&&(i=t.length>1?{component:o(t[1],V(t[1])),subComponent:o(t[0],V(t[0]))}:{component:o(t[0],V(t[0]))}),{...r,...i}}function j(e,t){const n=function(e){let t=e.parentElement;const n=[];for(;t;)n.push(t),t=t.parentElement;return n}(e),[r,o]=function(e,t){return e.reduce(((e,n)=>{var r,o;return P.includes(n.tagName.toLowerCase())&&e[0].push(n),o=t,(r=n).hasAttribute(o)&&x.includes(r.getAttribute(o))&&e[1].push(n),e}),[[],[]])}(n,t),i=function(e=[]){return e.reverse().reduce(((e,t)=>t.analyticsProperties?Object.assign(e,t.analyticsProperties):e),{})}(n);return a={...V(e),relations:U(r,o,t),...i},Object.keys(a).reduce(((e,t)=>(a[t]&&(e[t]=a[t]),e)),{});var a}const B=function(e=5e3){const t=new WeakMap;return(n,r)=>{const o=performance.now();t.has(r)&&o-t.get(r)<e||(t.set(r,o),n())}}(1e3);function W(e={}){return{init:function(t,n){var r;e.enabled&&(r=()=>function(e,{createTracker:t}){const n=t("userInteraction"),r=t("performance"),o=n("click"),i=n("input"),a=n("tab"),c=n("scroll"),l=n("view");(function(e,t){const n=["button","input"];document.addEventListener("click",s((r=>{const o=r.target,i=o.closest("a")||o.closest(n.join(","));if(i){if("INPUT"===i.tagName&&"submit"!=i.type)return;const n="BUTTON"===(a=i).tagName?"submit"===a.type&&a.closest("form")?"formSubmit":"buttonClick":"INPUT"===a.tagName?"formSubmit":"linkClick",o=M(i),c={...e[n],...o};if(!c.enabled)return;const s=j(i,e.customComponentAttributeName),u=function(e){return"INPUT"===e.tagName?e.value?.trim()??"":e.textContent.trim()}(i),l=function(e,t){return e.captureTextContent||delete t.textContent,t.href&&(e.captureSearchParams||(t.href=function(e){const t=new URL(e,window.location.origin);return t.search="",t.toString()}(t.href)),e.captureHashParams||(t.href=function(e){const t=new URL(e,window.location.origin);return t.hash="",t.toString()}(t.href))),t}(c,{...s,textContent:u,position:{x:r.x??"",y:r.y??""}});t(D[n])({...l})}var a})),{capture:!0})})(e,o),function(e,t){document.addEventListener("change",s((n=>{const r=n.target,o=M(r),i={...e.inputChange,...o};i.enabled&&B((()=>{const n=j(r,e.customComponentAttributeName);i.captureInputValue&&(n.value=r.value),t(D.inputChange)(n)}),r)})),{capture:!0})}(e,i),function(e,t){document.addEventListener("visibilitychange",s((()=>{e.tab.enabled&&t(D.tabVisibility)({eventName:D.tabVisibility,visibilityState:document.visibilityState,eventTimingSincePageLoad:Math.ceil(performance.now())})})))}(e,a),function(e,t){if(!e.scroll.enabled)return;const n=new WeakMap;function r(e,t){return 0===t?0:Math.round(100*e/t)}const o=_((async o=>{const i="#document"===o.target.nodeName,a=i?o.target.scrollingElement:o.target,c=M(a);if("enabled"in c&&!c.enabled)return;const s=i?D.pageScroll:D.elementScroll;if("elementScroll"===s&&!await(u=a,new Promise((e=>{const t=new IntersectionObserver((function(n){n.forEach((t=>{t.isIntersecting&&t.target===u?e(!0):e(!1)})),t.disconnect()}),{threshold:.1});t.observe(u)}))))return;var u;const l=(e=>{let t;const r={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop};return n.has(e)?(t=n.get(e),n.set(e,r),{currentScrollValue:r,previousScrollValue:t}):(n.set(e,r),t={scrollLeft:0,scrollTop:0},{currentScrollValue:r,previousScrollValue:t})})(a);if(!(e=>{const{currentScrollValue:t,previousScrollValue:n}=e,r=Math.abs(t.scrollLeft-n.scrollLeft),o=Math.abs(t.scrollTop-n.scrollTop);return r>100||o>100})(l))return;const{scrollXPercentage:d,scrollYPercentage:m}=((e,t)=>{const{currentScrollValue:n}=t,o=e.scrollHeight-e.clientHeight,i=e.scrollWidth-e.clientWidth;return{scrollXPercentage:r(n.scrollLeft,i),scrollYPercentage:r(n.scrollTop,o)}})(a,l),g=j(a,e.customComponentAttributeName);t(s)({...g,scrollYPercentage:m,scrollXPercentage:d})}),1e3);document.addEventListener("scroll",s(o),{capture:!0,passive:!0})}(e,c),function(e,t){var n;e.performance.enabled&&(n=()=>{const[e]=performance.getEntriesByType("navigation");e&&t("navigation")("pageLoadTiming")({ttfb:e.responseStart-e.startTime,domLoad:e.domContentLoadedEventEnd-e.startTime,pageLoad:e.loadEventEnd-e.startTime})},"loading"!==document.readyState?u(n):window.addEventListener("load",n))}(e,r);const d=function(e,t){const n=e.pageView;if(!n.enabled)return()=>{};let r;const o=function(e){let t=!1;return(...n)=>{t||(t=!0,e(...n))}}(t("pageReadSuccess")),i=()=>{r=setTimeout((()=>{o()}),1e3*n.pageReadSuccessTimeout)};return document.addEventListener("visibilitychange",s((()=>{"hidden"===document.visibilityState?clearTimeout(r):i()}))),i(),()=>{t("pageView")()}}(e,l);d();const m=function(e,t){const n=new WeakMap,r=e.elementView;if(!r.enabled)return()=>{};const o={threshold:r.threshold},i=new IntersectionObserver(s((o=>{o.forEach((o=>{const i=o.target;if(o.isIntersecting){n.set(i,!0);const a=()=>{const n=M(o.target);if("enabled"in n&&!n.enabled)return;const r=j(o.target,e.customComponentAttributeName),a=`${i.tagName.toLowerCase()}View`;t(a)(r)};setTimeout((()=>{n.get(i)&&a()}),1e3*r.viewTimeout)}else n.set(i,!1)}))})),o);return function(){const e=P.join(",");Array.from(document.body.querySelectorAll(e)).forEach((e=>{n.has(e)||(n.set(e,!1),i.observe(e))}))}}(e,l);m();const g=function(e,t){if(!e.inputError.enabled)return()=>{};let n=[];return s((()=>{const r=Array.from(document.querySelectorAll("[aria-invalid='true']"));r.forEach((r=>{if(!n.includes[r]){n.push(r);const o=j(r,e.customComponentAttributeName),i=r.getAttribute("aria-describedby"),a=document.getElementById(i);t("inputError")({...o,errorText:a?.textContent})}})),n=r}))}(e,i);(function(...e){const t=document.body,n=_((t=>{e.forEach((e=>e(t)))}),200);new MutationObserver(n).observe(t,{childList:!0,subtree:!0})})(m,g),function(...e){let t=window.location.pathname;const n=n=>{try{const r=new URL(n).pathname;if(r===t)return;t=r,e.forEach((e=>e(n)))}catch(e){console.error(e)}};"undefined"!=typeof navigation?navigation.addEventListener("navigate",(e=>{u((()=>n(e.destination.url)))})):(window.history.pushState=new Proxy(window.history.pushState,{apply:(e,t,r)=>{const o=Reflect.apply(e,t,r);return n(window.location.href),o}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(e,t,r)=>{const o=Reflect.apply(e,t,r);return n(window.location.href),o}}),window.addEventListener("popstate",(e=>{n(window.location.href)})))}(d)}(e,n),"loading"!==document.readyState?u(r):document.addEventListener("DOMContentLoaded",r))}}}const{storage:$}=t,F={plugins:[],mode:"debug",session:{timeout:30},pageConfig:{captureSearchParams:!1,captureHashParams:!1},utm:{captureExtraParams:[]},sendEventToWebViewHost:!1,sendMetaEvent:!1,eventProperties:{},identity:{},experiments:{},autoCapture:{enabled:!1,customComponentAttributeName:"data-blade-component",buttonClick:{enabled:!0,captureTextContent:!1},linkClick:{enabled:!0,captureTextContent:!1,captureSearchParams:!1,captureHashParams:!1},formSubmit:{enabled:!0,captureTextContent:!1},pageView:{enabled:!0,pageReadSuccessTimeout:15},elementView:{enabled:!0,viewThreshold:.3,viewTimeout:0},inputChange:{enabled:!0,captureInputValue:!1},inputError:{enabled:!0},tab:{enabled:!1},scroll:{enabled:!1},performance:{enabled:!1}}};window.razorAnalyticsCore=function(){let e=!1;const t={init:s((function(e={}){t.config=l({},F,e);const n=[{init:function(e={}){const t=e.utm??{};O(L(t)),p.on("sessionStart",(()=>{O(L(t))})),p.on("sessionEnd",(()=>O({})))},eventReducer:function(e){return{...e,context:{...e.context,utm:JSON.parse(g.get(r.UTM)||"{}")}}}},{init:function(e){const t=function({clientId:e}){const t=g.get(r.CLIENT_ID);return e??t??a()}(e);g.set(r.CLIENT_ID,t);const n=e.session;T();const o=()=>{const e=function({timeout:e=30}){return Date.now()>Number(g.get(r.LAST_ACTIVITY_TIMESTAMP,0))+60*e*1e3}(n),t=g.get(r.SESSION_ID);!e&&t||(g.remove(r.SESSION_REFERRER),g.remove(r.SESSION_ID),g.remove(r.LAST_ACTIVITY_TIMESTAMP),p.emit("sessionEnd"),function(){const e=C(),t=Date.now();g.set(r.SESSION_REFERRER,e),g.set(r.SESSION_ID,t),g.set(r.LAST_ACTIVITY_TIMESTAMP,t),p.emit("sessionStart")}()),g.set(r.LAST_ACTIVITY_TIMESTAMP,Date.now())};o(),function(e){const t=_(e,1e3);["click","keypress","scroll","change"].forEach((e=>document.addEventListener(e,t,!0)))}(o)},eventReducer:function(e){return{...e,context:{...e.context,clientId:g.get(r.CLIENT_ID),sessionId:g.get(r.SESSION_ID),sessionReferrer:g.get(r.SESSION_REFERRER),clientIdOld:g.get(r.CLIENT_ID_OLD),sessionIdOld:g.get(r.SESSION_ID_OLD)}}}},...t.config.plugins];t.config.autoCapture?.enabled&&n.push(W(t.config.autoCapture)),t.plugins=n,u(e.eventProperties),d(e.experiments);const{userId:o,...i}=e.identity??{};m(o,i),I("init",t.config),f(t.config)}),o),debug:s((function(e){$.set(r.DEBUG_MODE,!0===e),I("debug",e)}),o),disableTracking:s((function(){e=!0}),o),enableTracking:s((function(){e=!1}),o),createTracker:e=>t=>n=>(r={})=>i({category:e,subCategory:t,eventName:n,attributes:r}),track:s(i,o),setIdentity:s(m,o),removeIdentity:s((function(){y(),I("removeIdentity"),c({subCategory:"identity",eventName:"removeIdentity"})}),o),setEventProperties:s(u,o),setElementProperties:s((function(e,t={}){h(e,t)}),o),setExperiments:s(d,o)};function o(e){if(t.config.mode===n.debug)throw e;t.config.onError?.(e)}function i(o){if(e)return;if(!o.category||!o.subCategory||!o.eventName)throw new Error("category, subCategory and eventName is mandatory");const i=E(t.config),a=v(),c=function(e){const n=t?.plugins.some((n=>!1===n.eventReducer?.(e,t)));return!n&&t?.plugins.reduce(((e,n)=>n.eventReducer?.(e,t)??e),e)}({context:i,properties:{...o,meta:a,eventTimingSincePageLoad:Math.ceil(performance.now()),timestamp:Date.now()}});try{c&&window?.top?.postMessage?.({type:"razorAnalytics",...c},"*")}catch(e){}const s="true"===$.get(r.DEBUG_MODE),u=t?.config?.mode;var l;(u!==n.DEBUG&&!s||(console.log(`%c[RazorAnalytics] : ${c?c.properties.eventName:"Event Skipped by returning"}`,"color: lightgreen;",c),u!==n.DEBUG))&&c&&(t.config?.sendEventToWebViewHost&&(l=c,"undefined"!=typeof window&&window.hasOwnProperty("ReactNativeWebView")&&window.ReactNativeWebView.postMessage(JSON.stringify(l))),I("track",c))}const c=e=>{t.config?.sendMetaEvent&&i({category:"metaEvent",...e})};function u(e){b(e)&&c({subCategory:"eventProperties",eventName:"setProperties"})}function d(e){w(e)&&c({subCategory:"experiment",eventName:"setExperiments"})}function m(e,t={}){S(e,t)&&(I("setIdentity",e,t),c({subCategory:"identity",eventName:"setIdentity"}))}function I(e,...n){t?.plugins.forEach((r=>r[e]?.(...n,t)))}return t}()})();